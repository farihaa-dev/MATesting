<!DOCTYPE html>
<html lang="en">
<head>

  
    <meta charset="UTF-8">
    <title>My First Button</title>

  <!-- Adding Content Security Policy 
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://sandbox.src.mastercard.com; object-src 'none'; base-uri 'self';">
  -->

  <!--Adding required scripts for SRC Button-->
  <script type="module" src="https://src.mastercard.com/srci/integration/components/src-ui-kit/src-ui-kit.esm.js"></script>
<link rel="stylesheet" href="https://src.mastercard.com/srci/integration/components/src-ui-kit/src-ui-kit.css">

  <!-- Adding JS -->
  <script src="https://sandbox.src.mastercard.com/sdk/srcsdk.mastercard.js"></script>


</head>
<body>

    <h1>Checkout</h1>

    <src-button id="checkout-btn"></src-button>

  
  <script>

checkoutButton.addEventListener("click", function () {        
  //Check if the Mastercard SDK's init() function is available        
  if (typeof init === "function") {          
  // This is calling Mastercard’s init()         
    init( 
    "srciTransactionId":"781eaff9-f72e-4365-a438-0e4c82c8ded4",  
      "srcInitiatorId":"5e0d4b84-189d-4c86-822d-590602f62062",  
      "srciDpaId":"576094b8-e60d-48c7-babe-0a1e0611b37e",  
      "dpaTransactionOptions":  {     
          "transactionAmount":      {         
            "transactionAmount":"100.00",         
            "transactionCurrencyCode":"USD"     
                                    },     
          "transactionType": "PURCHASE",      
          "dpaBillingPreference":"FULL",      
          "dpaShippingPreference":"FULL",      
          "customInputData":       {          
              "com.mastercard.dcfExperience":"WITHIN_CHECKOUT"        
                                    },      
      "consumerNationalIdentifierRequested":false,      
      "dpaAcceptedBillingCountries":        [        ],      
      "dpaAcceptedShippingCountries":        [        ],     
      "dpaLocale":"en_US",      
      "consumerEmailAddressRequested":true,      
      "consumerNameRequested":true,     
      "consumerPhoneNumberRequested":true,      
      "confirmPayment":false,      
      "payloadTypeIndicatorCheckout":"PAYMENT",      
      "payloadTypeIndicatorPayload":"PAYMENT",      
      "paymentOptions":        [          {              
        "dpaDynamicDataTtlMinutes":15,              
        "dpaPanRequested":false,              
        "dynamicDataType":"CARD_APPLICATION_CRYPTOGRAM_SHORT_FORM"          }       ]  }}); // This is calling Mastercard’s init()        
    }
                                else {          console.error("Mastercard init() function is not available.");        }

    

  </script>


</body>
</html>
